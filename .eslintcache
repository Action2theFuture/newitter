[{"/home/san/newitter/src/index.js":"1","/home/san/newitter/src/components/App.js":"2","/home/san/newitter/src/components/Router.js":"3","/home/san/newitter/src/routes/Auth.js":"4","/home/san/newitter/src/routes/Home.js":"5","/home/san/newitter/src/fbase.js":"6","/home/san/newitter/src/components/Navigation.js":"7","/home/san/newitter/src/routes/Profile.js":"8","/home/san/newitter/src/components/Neweet.js":"9"},{"size":226,"mtime":1609160225068,"results":"10","hashOfConfig":"11"},{"size":1317,"mtime":1609339508818,"results":"12","hashOfConfig":"11"},{"size":1112,"mtime":1609338344428,"results":"13","hashOfConfig":"11"},{"size":2315,"mtime":1609248018700,"results":"14","hashOfConfig":"11"},{"size":3149,"mtime":1609335552338,"results":"15","hashOfConfig":"11"},{"size":709,"mtime":1609332646078,"results":"16","hashOfConfig":"11"},{"size":372,"mtime":1609336957558,"results":"17","hashOfConfig":"11"},{"size":1231,"mtime":1609338396058,"results":"18","hashOfConfig":"11"},{"size":2153,"mtime":1609334851958,"results":"19","hashOfConfig":"11"},{"filePath":"20","messages":"21","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"22"},"4q1oke",{"filePath":"23","messages":"24","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"25","messages":"26","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"27","messages":"28","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"22"},{"filePath":"29","messages":"30","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"31","usedDeprecatedRules":"22"},{"filePath":"32","messages":"33","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"34","messages":"35","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"36","messages":"37","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"38","usedDeprecatedRules":"22"},{"filePath":"39","messages":"40","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},"/home/san/newitter/src/index.js",[],["41","42"],"/home/san/newitter/src/components/App.js",[],"/home/san/newitter/src/components/Router.js",[],"/home/san/newitter/src/routes/Auth.js",[],"/home/san/newitter/src/routes/Home.js",["43"],"import Neweet from \"components/Neweet\";\nimport { dbService, storageService } from \"fbase\";\nimport { v4 as uuidv4 } from \"uuid\"\nimport React, { useEffect, useState } from \"react\";\n\nconst Home = ({ userObj }) => {\n    const [neweet, setNeweet] = useState(\"\");\n    const [neweets, setNeweets] = useState([]);\n    const [attachment, setAttachment] = useState(\"\");\n    // const getNeweets = async () => {\n    //     const dbNeweets = await dbService.collection(\"Neweets\").get();\n    //     dbNeweets.forEach((document) => {\n    //         const neweetObject = {\n    //             ...document.data(),\n    //             id: document.id\n    //         };\n    //         setNeweets((prev) => [neweetObject, ...prev]);\n    //     });\n    // };\n\n    // the old way\n\n    useEffect(() => {\n        // getNeweets(); <<< using snapshot instead\n        dbService.collection(\"Neweets\").onSnapshot((snapshot) => {\n            const neweetArray = snapshot.docs.map((doc) => ({\n                id: doc.id,\n                ...doc.data()\n            }));\n            setNeweets(neweetArray);\n        });\n    }, []);\n    const onSubmit = async (event) => {\n        event.preventDefault();\n        let attachmentUrl = \"\";\n        if (attachment !== \"\") {\n            const attachmentRef = storageService.ref().child(`${userObj.uid}/${uuidv4()}`);\n            const response = await attachmentRef.putString(attachment, \"data_url\");\n            attachmentUrl = await response.ref.getDownloadURL();\n        }\n        const neweetObj = {\n            text: neweet,\n            createdAt: Date.now(),\n            creatorId: userObj.uid,\n            attachmentUrl\n        };\n        await dbService.collection(\"Neweets\").add(neweetObj);\n        setNeweet(\"\");\n        setAttachment(\"\");\n    };\n    const onChange = (event) => {\n        const { target: { value }, } = event;\n        setNeweet(value);\n    };\n    const onFileChange = (event) => {\n        const { target: { files }, } = event;\n        const theFile = files[0];\n        const reader = new FileReader();\n        reader.onloadend = (finishedEvent) => {\n            const { currentTarget: { result } } = finishedEvent;\n            setAttachment(result);\n        }\n        reader.readAsDataURL(theFile);\n    }\n    const onClearAttachment = () => setAttachment(null);\n    return (\n        <div>\n            <form onSubmit={onSubmit}>\n                <input value={neweet} onChange={onChange} type=\"text\" placeholder=\"What is your mind?\" maxLength={120} />\n                <input type=\"file\" accept=\"image/*\" onChange={onFileChange} />\n                <input type=\"submit\" value=\"Neweet\" />\n                {attachment && (\n                    <div>\n                        <img src={attachment} width=\"50px\" height=\"50px\" />\n                        <button onClick={onClearAttachment}>Clear</button>\n                    </div>\n                )}\n            </form>\n            <div>\n                {neweets.map((neweet) => (\n                    <Neweet key={neweet.id} neweetObj={neweet} isOwner={neweet.creatorId === userObj.uid} />\n                ))}\n            </div>\n        </div>\n    )\n}\n\n\nexport default Home;","/home/san/newitter/src/fbase.js",[],"/home/san/newitter/src/components/Navigation.js",[],"/home/san/newitter/src/routes/Profile.js",["44"],"import { authService } from \"fbase\";\nimport React, { useState } from \"react\";\nimport { useHistory } from \"react-router-dom\";\n\nexport default ({ refreshUser, userObj }) => {\n    const history = useHistory();\n    const [newDisplayName, setNewDisplayName] = useState(userObj.displayName);\n    const onLogOutClick = () => {\n        authService.signOut();\n        history.push(\"/\");\n    };\n    const onChange = (event) => {\n        const {\n            target: { value },\n        } = event;\n        setNewDisplayName(value);\n    };\n    const onSubmit = async (event) => {\n        event.preventDefault();\n        if (userObj.displayName !== newDisplayName) {\n            await userObj.updateProfile({\n                displayName: newDisplayName,\n            });\n            refreshUser();\n        }\n    };\n    return (\n        <>\n            <form onSubmit={onSubmit}>\n                <input\n                    onChange={onChange}\n                    type=\"text\"\n                    placeholder=\"Display name\"\n                    value={newDisplayName}\n                />\n                <input type=\"submit\" value=\"Update Profile\" />\n            </form>\n            <button onClick={onLogOutClick}>Log Out</button>\n        </>\n    );\n};","/home/san/newitter/src/components/Neweet.js",["45"],{"ruleId":"46","replacedBy":"47"},{"ruleId":"48","replacedBy":"49"},{"ruleId":"50","severity":1,"message":"51","line":74,"column":25,"nodeType":"52","endLine":74,"endColumn":76},{"ruleId":"53","severity":1,"message":"54","line":5,"column":1,"nodeType":"55","endLine":41,"endColumn":3},{"ruleId":"50","severity":1,"message":"51","line":46,"column":54,"nodeType":"52","endLine":46,"endColumn":118},"no-native-reassign",["56"],"no-negated-in-lhs",["57"],"jsx-a11y/alt-text","img elements must have an alt prop, either with meaningful text, or an empty string for decorative images.","JSXOpeningElement","import/no-anonymous-default-export","Assign arrow function to a variable before exporting as module default","ExportDefaultDeclaration","no-global-assign","no-unsafe-negation"]